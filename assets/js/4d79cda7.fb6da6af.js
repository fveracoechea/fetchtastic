"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[894],{6852:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>i});var n=s(6106),t=s(9252);const c={sidebar_position:1},l="Fetchtastic",d={id:"reference/fetchtastic",title:"Fetchtastic",description:"Represents an HTTP request configuration. It provides methods for setting",source:"@site/docs/reference/fetchtastic.mdx",sourceDirName:"reference",slug:"/reference/fetchtastic",permalink:"/fetchtastic/docs/reference/fetchtastic",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reference/fetchtastic.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1}},a={},i=[{value:"Properties",id:"properties",level:2},{value:"Constructor",id:"constructor",level:2},{value:"HTTP methods:",id:"http-methods",level:2},{value:"get",id:"get",level:3},{value:"post",id:"post",level:3},{value:"put",id:"put",level:3},{value:"delete",id:"delete",level:3},{value:"options",id:"options",level:3},{value:"patch",id:"patch",level:3},{value:"head",id:"head",level:3},{value:"Response methods",id:"response-methods",level:2},{value:"resolve",id:"resolve",level:3},{value:"json",id:"json",level:3},{value:"arrayBuffer",id:"arraybuffer",level:3},{value:"blob",id:"blob",level:3},{value:"formData",id:"formdata",level:3},{value:"text",id:"text",level:3},{value:"Error Catchers",id:"error-catchers",level:2},{value:"onError",id:"onerror",level:3},{value:"badRequest",id:"badrequest",level:3},{value:"unauthorized",id:"unauthorized",level:3},{value:"forbidden",id:"forbidden",level:3},{value:"notFound",id:"notfound",level:3},{value:"timeout",id:"timeout",level:3},{value:"serverError",id:"servererror",level:3},{value:"Request configuration:",id:"request-configuration",level:2},{value:"controller",id:"controller",level:3},{value:"headers",id:"headers",level:3},{value:"appendHeader",id:"appendheader",level:3},{value:"deleteHeader",id:"deleteheader",level:3},{value:"url",id:"url",level:3},{value:"searchParams",id:"searchparams",level:3},{value:"appendSearchParam",id:"appendsearchparam",level:3},{value:"deleteSearchParam",id:"deletesearchparam",level:3},{value:"<code>setBody</code>",id:"setbody",level:3},{value:"setOptions",id:"setoptions",level:3}];function o(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"fetchtastic",children:"Fetchtastic"}),"\n",(0,n.jsx)(r.p,{children:"Represents an HTTP request configuration. It provides methods for setting\nheaders, URL parameters, request body, and other options. It also provides\nconvenience methods for performing common HTTP methods such as GET, POST, PUT,\nDELETE, OPTIONS, PATCH, and HEAD."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"import { Fetchtastic } from 'fetchtastic';\n"})}),"\n",(0,n.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"URL"})," - url of the request, including any URL parameters."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"searchParams"})," - Gets the URL search parameters."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"headers"})," - Gets the URL search parameters."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"method"})," - HTTP method associated with the request."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"requestOptions"})," - Object containing custom settings applied to the request."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"body"})," - Body of the request."]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"constructor",children:"Constructor"}),"\n",(0,n.jsxs)(r.p,{children:["Creates a new instance of the ",(0,n.jsx)(r.code,{children:"Fetchtastic"})," class."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"baseUrl"})," - The base URL of the request. Optional."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"controller"})," - ",(0,n.jsx)(r.code,{children:"AbortController"})," instance for aborting the request. Optional."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"constructor(baseUrl?: string | URL, controller?: AbortController);\n"})}),"\n",(0,n.jsx)(r.h2,{id:"http-methods",children:"HTTP methods:"}),"\n",(0,n.jsxs)(r.p,{children:["These functions when called, set a specific HTTP method to the request\nconfiguration. Likewise, you can pass optional ",(0,n.jsx)(r.code,{children:"url"})," and ",(0,n.jsx)(r.code,{children:"body"})," arguments to\nthese methods if needed."]}),"\n",(0,n.jsx)(r.h3,{id:"get",children:"get"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"get(url?: string): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"post",children:"post"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"post(url?: string, body?: BodyInit | null | unknown): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"put",children:"put"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"put(url?: string, body?: BodyInit | null | unknown): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"delete",children:"delete"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"delete(url?: string, body?: BodyInit | null | unknown): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"options",children:"options"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"options(url?: string, body?: BodyInit | null | unknown): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"patch",children:"patch"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"patch(url?: string, body?: BodyInit | null | unknown): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"head",children:"head"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"head(url?: string): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h2,{id:"response-methods",children:"Response methods"}),"\n",(0,n.jsx)(r.p,{children:"These functions when called, execute the HTTP request and return a promise with\nits response."}),"\n",(0,n.jsx)(r.p,{children:"The primary objectives of these functions involve initiating the HTTP request\nwith the existing configuration, with a focus on managing responses, and parsing\nthe resulting data."}),"\n",(0,n.jsx)(r.h3,{id:"resolve",children:"resolve"}),"\n",(0,n.jsxs)(r.p,{children:["Resolves the fetch request and returns the\n",(0,n.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Response",children:"Response"}),"."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"resolve(): Promise<Response>\n"})}),"\n",(0,n.jsx)(r.h3,{id:"json",children:"json"}),"\n",(0,n.jsxs)(r.p,{children:["Sends the request and returns the response as a ",(0,n.jsx)(r.code,{children:"JSON"})," object."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"assertData"})," - A function to assert and transform the response data. If\nprovided, the parsed data is passed to this function for validation."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"json<T = unknown>(assertData?: DataAssertionFn<T>): Promise<T>\n"})}),"\n",(0,n.jsx)(r.h3,{id:"arraybuffer",children:"arrayBuffer"}),"\n",(0,n.jsxs)(r.p,{children:["Sends the fetch request and returns the response as an\n",(0,n.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",children:"ArrayBuffer"}),"\n."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"arrayBuffer(): Promise<ArrayBuffer>\n"})}),"\n",(0,n.jsx)(r.h3,{id:"blob",children:"blob"}),"\n",(0,n.jsxs)(r.p,{children:["Resolves the fetch request and returns the response as a\n",(0,n.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Blob",children:"Blob"}),"."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"blob(): Promise<Blob>\n"})}),"\n",(0,n.jsx)(r.h3,{id:"formdata",children:"formData"}),"\n",(0,n.jsxs)(r.p,{children:["Resolves the fetch request and returns the response as a\n",(0,n.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/FormData",children:"FormData"}),"."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"formData(): Promise<FormData>\n"})}),"\n",(0,n.jsx)(r.h3,{id:"text",children:"text"}),"\n",(0,n.jsx)(r.p,{children:"Sends the fetch request and resolve the response as plain text."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"text(): Promise<string>\n"})}),"\n",(0,n.jsx)(r.h2,{id:"error-catchers",children:"Error Catchers"}),"\n",(0,n.jsxs)(r.p,{children:["Error catchers are in charge of handling\n",(0,n.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Response/ok",children:"Not-OK"}),"\nresponses, by default ",(0,n.jsx)(r.code,{children:"Fetchtastic"})," will throw an error (for HTTP error codes)\nunless a catcher has been provided to handle it."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"type ErrorCatcher = (\n  error: ResponseError,\n  config: Fetchtastic,\n) => void | Promise<Response | void>;\n"})}),"\n",(0,n.jsxs)(r.p,{children:["You can add as many ",(0,n.jsx)(r.strong,{children:"catchers"})," as you need for a given error code, they all\nwill be executed if an error is caught."]}),"\n",(0,n.jsx)(r.h3,{id:"onerror",children:"onError"}),"\n",(0,n.jsx)(r.p,{children:"Registers an given error handler for a specific status code."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"status"})," - HTTP status code of the error to be handled."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"catcher"})," - on-error callback function executed in case of error."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"onError(status: number, catcher: ErrorCatcher): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"badrequest",children:"badRequest"}),"\n",(0,n.jsxs)(r.p,{children:["If provided, handles ",(0,n.jsx)(r.code,{children:"400"})," bad-request HTTP responses"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"badRequest(catcher: ErrorCatcher): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"unauthorized",children:"unauthorized"}),"\n",(0,n.jsxs)(r.p,{children:["If provided, handles ",(0,n.jsx)(r.code,{children:"401"})," unauthorized HTTP responses"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"unauthorized(catcher: ErrorCatcher): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"forbidden",children:"forbidden"}),"\n",(0,n.jsxs)(r.p,{children:["If provided, handles ",(0,n.jsx)(r.code,{children:"403"})," forbidden HTTP responses"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"forbidden(catcher: ErrorCatcher): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"notfound",children:"notFound"}),"\n",(0,n.jsxs)(r.p,{children:["If provided, handles ",(0,n.jsx)(r.code,{children:"404"})," not-found HTTP responses"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"notFound(catcher: ErrorCatcher): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"timeout",children:"timeout"}),"\n",(0,n.jsxs)(r.p,{children:["If provided, handles ",(0,n.jsx)(r.code,{children:"408"})," request-timeout HTTP responses"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"timeout(catcher: ErrorCatcher): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"servererror",children:"serverError"}),"\n",(0,n.jsxs)(r.p,{children:["Handles ",(0,n.jsx)(r.code,{children:"500"})," internal-server-error HTTP responses"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"serverError(catcher: ErrorCatcher): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h2,{id:"request-configuration",children:"Request configuration:"}),"\n",(0,n.jsx)(r.h3,{id:"controller",children:"controller"}),"\n",(0,n.jsx)(r.p,{children:"Registers an abort controller, in order to cancel the request if needed."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"abortController"})," - A instance of\n",(0,n.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/AbortController",children:(0,n.jsx)(r.code,{children:"AbortController"})})]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"controller(abortController: AbortController): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"headers",children:"headers"}),"\n",(0,n.jsxs)(r.p,{children:["Sets the headers of the request, it uses\n",(0,n.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Headers/set",children:(0,n.jsx)(r.code,{children:"Headers.set"})}),"\nbehind the scenes."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"data"})," - The headers to set."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"replace"})," - Indicates whether to replace the existing headers or append to\nthem. Default is ",(0,n.jsx)(r.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"headers(data?: HeadersInit, replace = false): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"appendheader",children:"appendHeader"}),"\n",(0,n.jsxs)(r.p,{children:["Appends a header to the request, it uses\n",(0,n.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Headers/append",children:(0,n.jsx)(r.code,{children:"Headers.append"})}),"\nunder the hood."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"name"})," - The name of the header."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"value"}),"- The value of the header."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"appendHeader(name: string, value: string): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"deleteheader",children:"deleteHeader"}),"\n",(0,n.jsx)(r.p,{children:"Deletes a header from the request."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"name"})," - The name of the header to delete."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"deleteHeader(name: string): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"url",children:"url"}),"\n",(0,n.jsx)(r.p,{children:"Sets the URL of the request."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"url"})," - The URL to set."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"replace"})," - Specifies whether to replace the existing URL (default: false)."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"url(url: string | URL, replace = false): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"searchparams",children:"searchParams"}),"\n",(0,n.jsx)(r.p,{children:"Sets the URL parameters of the request."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"data"})," - The URL parameters to set."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"replace"})," - Specifies whether to replace the existing search parameters\n(default: false)"]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"searchParams(data?: SearchParamInput, replace = false): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"appendsearchparam",children:"appendSearchParam"}),"\n",(0,n.jsx)(r.p,{children:"Appends a URL parameter to the request."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"name"})," - The name of the URL search parameter."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"value"})," - The value of the URL search parameter."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"appendSearchParam(name: string, value: string | number | boolean): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"deletesearchparam",children:"deleteSearchParam"}),"\n",(0,n.jsx)(r.p,{children:"Deletes a URL parameter from the request."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"name"})," - The name of the URL parameter to delete."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"deleteSearchParam(name: string): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"setbody",children:(0,n.jsx)(r.code,{children:"setBody"})}),"\n",(0,n.jsxs)(r.p,{children:["Sets the body of the request. It can be one of the following: ",(0,n.jsx)(r.code,{children:"Blob"}),",\n",(0,n.jsx)(r.code,{children:"ArrayBuffer"}),", ",(0,n.jsx)(r.code,{children:"TypedArray"}),", ",(0,n.jsx)(r.code,{children:"DataView"}),", ",(0,n.jsx)(r.code,{children:"FormData"}),", ",(0,n.jsx)(r.code,{children:"URLSearchParams"}),",\n",(0,n.jsx)(r.code,{children:"string"}),", or ",(0,n.jsx)(r.code,{children:"ReadableStream"})," object."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"body"})," - The body of the request."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"body(body: unknown): Fetchtastic\n"})}),"\n",(0,n.jsx)(r.h3,{id:"setoptions",children:"setOptions"}),"\n",(0,n.jsx)(r.p,{children:"Sets any custom settings that you want to apply to the request."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"options"})," - The options to set."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"replace"})," - Specifies whether to replace the existing options (default: false)"]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"setOptions(options: FetchtasticOptions, replace = false): Fetchtastic\n"})})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},9252:(e,r,s)=>{s.d(r,{R:()=>l,x:()=>d});var n=s(7378);const t={},c=n.createContext(t);function l(e){const r=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(c.Provider,{value:r},e.children)}}}]);